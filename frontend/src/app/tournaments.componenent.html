<!--BREADCRUMBS BEGIN-->
<section class="image-header">
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <div class="info">
                    <div class="wrap">
                        <h1>Tournaments</h1>
                    </div>
                </div>
            </div>	
        </div>
    </div>
</section>
<!--BREADCRUMBS END-->

<!--TOURNAMENT WRAP BEGIN-->
<div class="broadcast-wrap">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h4>Tournaments</h4>

                <!--Condicionado a JOINERROR-->
                <div *ngIf="joinError">
                    <div class="row">
                        <div class="container">
                            <div class="col-md-12">
                                <div class="alert alert-danger alert-dismissable"> <a href="#" class="close" data-dismiss="alert" aria-label="close">x</a> <strong>Error: Your team is already enrolled on this tournament or you don't have a team.</strong> </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!--Condicionado a JOINERROR-->
			
				<!-- JOIN SUCCESS
				{{^joinSuccess}}
				<div class="row">
					<div class="container">
						<div class="col-md-12">
							<div class="alert alert-success alert-dismissable"> <a href="#" class="close" data-dismiss="alert" aria-label="close">x</a> <strong>Congratulations!  You succesfully joined the tournament</strong> </div>
						</div>
					</div>
				</div>
				{{/joinSuccess}} -->
            </div>
            <div class="col-md-12">
            	<div id="tournamentList">1
                     <!--NG FOR-->
                    <div *ngFor="let tournament of tournaments"> 
                        <div class="broadcast-list" id="accordion" role="tablist" aria-multiselectable="true">
                            <div class="broadcast-item">
                                <div class="item-header" id="headingOne">
                                    <div class="row">
                                        <div class="col-md-1 col-sm-2">
                                            <a data-toggle="collapse" data-parent="#accordion" href="#{{tournament.id}}" class="arrow"><i class="fa fa-caret-down" aria-hidden="true"></i></a>
                                        </div>
                                        <div class="col-md-11">
                                            <div class="item-head-body">
                                                <a><img src="/images/soccer/champ-logo.png" width="40" height="40" alt="main-match-icon"></a>
                                                <span class="info">
                                                    <span class="what">{{tournament.iniDate}}</span>
                                                    <span class="then">{{tournament.name}}</span>
                                                </span>

                                                <!--NG IF-->

                                                <div *ngIf="logged">
                                                   
                                                    <div *ngIf="!tournament.started">
                                                         <!--{{^joined}}-->
                                                        <span class="marker"><a href="tournaments/{{tournament.id}}/join">Join</a></span>
                                                        <!--{{/joined}}-->
                                                    
                                                    </div>
                                                    
                                                </div>
                                                
                                                <!--NG IF-->

                                            </div>
                                        </div>
                                    </div>	
                                </div>
                                <div id="{{tournament.id}}" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
                                    <div class="img-wrap"><img src="/images/soccer/broad-cup-img.jpg" alt="main-match-icon"></div>
                                    <div class="item-body">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <p>{{tournament.description}}</p>
                                                <div class="part-list">
                                                    <div class="row">
                                                         <!--NG FOR-->
                                                        <div *ngFor="let participant of tournament.participants">
                                                            <div class="col-md-3">
                                                                <a href="/teams/{{participant.id}}" class="item">
                                                                    <span class="logo"><img src="/teams/{{participant.id}}/image" width="80" height="80" alt="club-image"></span>
                                                                    <span class="name">{{participant.name}}</span>
                                                                </a>
                                                            </div> 
                                                        </div>
                                                         <!--NG FOR-->
                                                    </div>
                                                </div>
                                                <a href="/tournaments/{{tournament.id}}" class="btn">View tournament page</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>	
                </div>				
            </div>
            <!--NG FOR-->
			<div class="container">
				<div class="row">
					<div class="col-md-12" style="text-align:center">
              			<button class="btn small" id="loadMoreTournaments" nextPage ="1" style="margin-bottom:40px">LOAD MORE</button>
          			</div>
				</div>
			</div>
            <div class="store-banner position-relative">
                <div class="store-banner-info">
                    <div class="container">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="title">Create <span>Your Tournament</span></div>
                                <a href="/newTournament" class="btn">Start</a>
                            </div>	
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!--TOURNAMENT WRAP END-->